<!DOCTYPE html>
<html>
<head>
    <title>Гороскоп</title>
</head>
<body>
    <h1>Гороскоп</h1>
    <form action="horoscope.php" method="post">
        <label for="birthdate">Дата рождения:</label>
        <input type="text" name="birthdate" id="birthdate" placeholder="01.12.1990">
        <input type="submit" value="Показать гороскоп">
    </form>

    <?php
    if (isset($_POST['birthdate'])) {
        $birthdate = $_POST['birthdate'];

        // Преобразуем дату рождения в формат Unix-времени
        $timestamp = strtotime($birthdate);

        // Определяем знак зодиака
        $zodiacSign = getZodiacSign($timestamp);

        // Получаем гороскоп для текущего дня
        $horoscope = getHoroscope($zodiacSign);

        // Выводим гороскоп
        echo "<p>$horoscope</p>";
    }

    // Функция для определения знака зодиака
    function getZodiacSign($timestamp) {
        $month = date('m', $timestamp);
        $day = date('d', $timestamp);

        $signs = [
            'Овен' => ['03-21', '04-19'],
            'Телец' => ['04-20', '05-20'],
            'Близнецы' => ['05-21', '06-20'],
            'Рак' => ['06-21', '07-22'],
            'Лев' => ['07-23', '08-22'],
            'Дева' => ['08-23', '09-22'],
            'Весы' => ['09-23', '10-22'],
            'Скорпион' => ['10-23', '11-21'],
            'Стрелец' => ['11-22', '12-21'],
            'Козерог' => ['12-22', '01-19'],
            'Водолей' => ['01-20', '02-18'],
            'Рыбы' => ['02-19', '03-20'],
        ];

        foreach ($signs as $sign => $dates) {
            if ($month == substr($dates[0], 0, 2) && $day >= substr($dates[0], 3, 2)) {
                return $sign;
            } elseif ($month == substr($dates[1], 0, 2) && $day <= substr($dates[1], 3, 2)) {
                return $sign;
            }
        }
    }

    
    function getHoroscope($zodiacSign) {
        $horoscopes = [
            'Овен' => '-Зато я была к вам неизменно благосклонна и даже время от времени навещаю вас, хотя, благодаря множеству своих меховых покровов, каждый раз простуживаюсь',
            'Телец' => '-Вы научили меня понимать, что такое любовь. Ваше веселое богослужение заставило меня забыть о двух тысячелетиях',
            'Близнецы' => '-А как беспримерно верна я вам была!',
            'Рак' => '-Ну, что касается верности…',
            'Лев' => '– Неблагодарный!',
            'Дева' => '– Я совсем не хотел упрекать вас. Вы, правда, божественная женщина, – и, как всякая женщина, вы в любви жестоки.',
            'Весы' => '– Вы называете жестокостью то,что составляет главную сущность чувственности, веселой и радостной любви',
            'Скорпион' => '– Да разве может быть что-нибудь более жестокое для любящего, чем неверность возлюбленной?',
            'Стрелец' => '– Ах, мы и верны, пока любим!',
            'Козерог' => '-Вам представляется природа чем-то враждебным, из нас, смеющихся богов Греции, вы сделали каких-то злых демонов, меня представили дьяволицей...',
            'Водолей' => '...Меня вы умеете только преследовать, заточать и проклинать – или же, в порыве вакхического безумия, сами себя заклать, как жертву, на моем алтаре...',
            'Рыбы' => '...Оставайтесь же среди вашего северного тумана, в дыму христианского фимиама, – а нас, язычников, оставьте под грудой развалин...',
        ];

        return $horoscopes[$zodiacSign];
    }
    ?>
</body>
</html>